<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Sprint 4 Calendar</title>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyC6jYux-bT9Gs4JK_gCNcK3cVSkSzT0UGs",
            authDomain: "pepsico-467c1.firebaseapp.com",
            projectId: "pepsico-467c1",
            storageBucket: "pepsico-467c1.firebasestorage.app",
            messagingSenderId: "724549740063",
            appId: "1:724549740063:web:1e411b322fe460dbf4172a",
            measurementId: "G-6ZHFEWGYT1"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f4f4f4;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        #calendar {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <h1>Sprint 4 Calendar (30 Jul – 12 Aug 2025)</h1>
    <div id="calendar"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const calendarEl = document.getElementById('calendar');
            const colors = {
                dev: "#5cb85c",
                qa: '#d9534f'
            }
            const { dev, qa } = colors;
            const calendar = new FullCalendar.Calendar(calendarEl, {
                eventClick: function (info) {
                    const event = info.event;
                    const detail = event.extendedProps.detail;

                    let message = `<strong>${event.title}</strong><br>`;
                    message += `Date: ${event.start.toDateString()}<br>`;

                    if (detail && detail.notes) {
                        message += `<ul>`;
                        detail.notes.forEach(note => {
                            message += `<li><strong>${note.title}:</strong> ${note.status}</li>`;
                        });
                        message += `</ul>`;
                    }

                    // Show basic browser alert — replace this with a custom modal if needed
                    const wrapper = document.createElement("div");
                    wrapper.innerHTML = message;
                    wrapper.style.padding = "15px";
                    wrapper.style.background = "#fff";
                    wrapper.style.border = "1px solid #ddd";
                    wrapper.style.borderRadius = "8px";
                    wrapper.style.boxShadow = "0 5px 15px rgba(0,0,0,0.3)";
                    wrapper.style.position = "fixed";
                    wrapper.style.top = "50%";
                    wrapper.style.left = "50%";
                    wrapper.style.transform = "translate(-50%, -50%)";
                    wrapper.style.zIndex = "9999";
                    // Create overlay
                    const overlay = document.createElement("div");
                    overlay.style.position = "fixed";
                    overlay.style.top = "0";
                    overlay.style.left = "0";
                    overlay.style.width = "100vw";
                    overlay.style.height = "100vh";
                    overlay.style.backgroundColor = "rgba(0,0,0,0.3)";
                    overlay.style.zIndex = "9998";

                    // When clicking the overlay, remove both modal and overlay
                    overlay.onclick = () => {
                        wrapper.remove();
                        overlay.remove();
                    };
                    document.body.appendChild(overlay);
                    document.body.appendChild(wrapper);
                },
                initialView: 'dayGridMonth',
                initialDate: '2025-07-30',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,listWeek'
                },
                events: [
                    {
                        title: 'Data check', start: '2025-07-30', color: '#5bc0de', detail: {
                            notes: [{
                                title: "Lead Story",
                                status: "In progress"
                            }, {
                                title: "Related Topics",
                                status: "New"
                            }, {
                                title: "Article Hero",
                                status: "Blocker"
                            }]
                        }
                    },
                    { title: 'Lead Story dev', start: '2025-07-31', color: dev },
                    { title: 'Lead Story PR', start: '2025-08-01', color: dev },
                    { title: 'QA Lead Story', start: '2025-08-04', color: qa },
                    { title: 'Related Topics dev', start: '2025-08-05', color: dev },
                    { title: 'Related Topics PR', start: '2025-08-06', color: dev },
                    { title: 'QA Related Topics', start: '2025-08-07', color: qa },
                    { title: 'Article Hero dev', start: '2025-08-08', color: dev },
                    { title: 'Article Hero PR', start: '2025-08-11', color: dev },
                    { title: 'QA Article Hero', start: '2025-08-12', color: qa }
                ]
            });
            calendar.render();
        });
    </script>
</body>

</html>